# Copyright (c) 2024
# SPDX-License-Identifier: MIT

description: ZMK TP4056 Charger Monitor

compatible: "zmk,charger-monitor"

include: [gpio-device.yaml]

properties:
  compatible:
    type: string-array
    required: true
    description: Should be "zmk,charger-monitor"

  label:
    type: string
    required: false
    description: Human readable string describing the device

  chrg-gpios:
    type: phandle-array
    required: true
    description: |
      GPIO pin connected to TP4056 CHRG pin.
      The pin should be configured with GPIO_INPUT flag.
      Since CHRG is active-low, use GPIO_ACTIVE_LOW flag.

  status:
    type: string
    required: false
    description: Device status

  zephyr,debounce-ms:
    type: int
    required: false
    description: Debounce time in milliseconds
    default: 50

required:
  - compatible
  - chrg-gpios